<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="../src/docs.css">
	<title>endpoints / llamechat docs</title>
</head>
<body>
	<div class="splash">
		<h1><a href="../index.html">&lt;</a> endpoints</h1>
		<blockquote>In a URL, "any" represents a wildcard, eg. name of a channel, name of an account, etc.</blockquote>
		<p>Here is a list of all of the api endpoints and what they do, plus some examples of input headers and return data.</p>
		<div class="links">
			<a href="#channels"><code>GET  /channels/</code></a>
			<a href="#channels-any"><code>GET  /channels/any/</code></a>
			<a href="#channels-any-read"><code>GET  /channels/any/read/</code></a>
			<a href="#channels-any-join"><code>POST /channels/any/join/</code></a>
			<a href="#channels-any-send"><code>POST /channels/any/send/</code></a>
			<a href="#channels-delete"><code>POST /channels/delete/</code></a>
			<a href="#channels-create"><code>POST /channels/create/</code></a>
			<a href="#accounts"><code>GET  /accounts/</code></a>
			<a href="#accounts-any"><code>GET  /accounts/any/</code></a>
			<a href="#accounts-auth"><code>POST /accounts/authenticate/</code></a>
			<a href="#accounts-delete"><code>POST /accounts/delete/</code></a>
			<a href="#accounts-create"><code>POST /accounts/create/</code></a>
		</div>
		<h2 id="channels"><code>GET  /channels/</code></h2>
		<p>Gets a list of all public channels.</p>
		<h3>Output Data</h3>
		<pre>
[
	"testChannel",
	...
]
</pre>
		<hr>
		<h2 id="channels-any"><code>GET  /channels/any/</code></h2>
		<p>Gets information about a channel.</p>
		<h3>Output Data</h3>
		<pre>typeof Channel { ... }</pre>
		<hr>
		<h2 id="channels-any-read"><code>GET  /channels/any/read/</code></h2>
		<p>Gets information about a channel.</p>
		<h3>Output Data</h3>
		<pre>
{
	"raw": [ typeof Message {}, ... ],
	"html": "
		&lt;div class="message"&gt;
			&lt;div class="username"&gt;testAccount&lt;/div&gt;
			&lt;div class="content"&gt;Hello, World!&lt;/div&gt;
		&lt;/div&gt;..."
}
</pre>
		<hr>
		<h2 id="channels-any-join"><code>POST /channels/any/join/</code></h2>
		<p>Adds user as a member of the channel, requires user privelages.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123",
	"channel": "testChannel"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username, password, or channel name provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "error": { "code": 400, "message": "This channel does not exist." } }
{ "success": { "code": 200, "message": "Joined channel." } }
</pre>
		<hr>
		<h2 id="channels-any-send"><code>POST /channels/any/send/</code></h2>
		<p>Sends a message to the channel from a user, requires user privelages.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123",
	"message": "Hello, World!"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username, password, or message provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "error": { "code": 400, "message": "Message is too long." } }
{ "error": { "code": 400, "message": "This channel does not exist." } }
{ "error": { "code": 400, "message": "You are not a member of this channel." } }
{ "success": { "code": 200, "message": "Message sent." } }
</pre>
		<hr>
		<h2 id="channels-delete"><code>POST /channels/delete/</code></h2>
		<p>Delets a channel, requires user privelages of owner.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123",
	"name": "testChannel"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username, password, or channel name provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "error": { "code": 400, "message": "You are not the owner of this channel." } }
{ "error": { "code": 400, "message": "This channel does not exist." } }
{ "success": { "code": 200, "message": "Channel nuked." } }
</pre>
		<hr>
		<h2 id="channels-create"><code>POST /channels/create/</code></h2>
		<p>Creates a channel with provided name, requires user privelages for owner.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123",
	"name": "testChannel"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username, password, or channel name provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "error": { "code": 400, "message": "This channel name has already been claimed." } }
{ "success": { "code": 200, "message": "Channel created." } }
</pre>
		<hr>
		<h2 id="accounts"><code>GET  /accounts/</code></h2>
		<p>Gets all account usernames, requires admin privelages.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "admin",
	"password": "p4ssw0rd_123"
}
</pre>
		<h3>Output Data</h3>
		<pre>
[
	"testAccount",
	...
]
</pre>
		<hr>
		<h2 id="accounts-any"><code>GET  /accounts/any/</code></h2>
		<p>Gets account info from a username, requires user/admin privelages.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "admin" | "testAccount",
	"password": "p4ssw0rd_123"
}
</pre>
		<h3>Output Data</h3>
		<pre>
typeof Account { ... }
</pre>
		<hr>
		<h2 id="accounts-auth"><code>POST /accounts/authenticate/</code></h2>
		<p>Checks if you have a valid username + password.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username or password provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "success": { "code": 200, "message": "Valid." } }
</pre>
		<hr>
		<h2 id="accounts-delete"><code>POST /accounts/delete/</code></h2>
		<p>Deletes an account, requires user privelages.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username or password provided." } }
{ "error": { "code": 400, "message": "Invalid username + password combo." } }
{ "error": { "code": 400, "message": "This account does not exist." } }
{ "success": { "code": 200, "message": "Account nuked." } }
</pre>
		<hr>
		<h2 id="accounts-create"><code>POST /accounts/create/</code></h2>
		<p>Creates an account.</p>
		<h3>Input Headers</h3>
		<pre>
{
	"username": "testAccount",
	"password": "p4ssw0rd_123"
}
</pre>
		<h3>Output Data</h3>
		<pre>
{ "error": { "code": 400, "message": "No username or password provided." } }
{ "error": { "code": 400, "message": "This username has already been claimed." } }
{ "success": { "code": 200, "message": "Account created." } }
</pre>
</body>
</html>
